{% extends 'base.html' %}

{% block content %}
    <div class="row">
        <div class="col-12 text-center">
            <h1>{% block title %}
              {{ type|capitalize + 's' }}
              {% endblock %}
            </h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12 text-center">
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eget viverra magna. Nam in ante ultricies purus feugiat vestibulum et ac erat. Donec in sagittis ante. Maecenas non mauris et eros commodo fringilla. Integer accumsan ullamcorper diam, non rhoncus tellus molestie ut. Maecenas finibus pretium dolor ac sagittis.
            </p>
        </div>
    </div>
    <div class="row">
    {% for resource in resources %}
        <div class="col-md-4 col-sm-6 py-3">
        <div class="card text-dark bg-{{type}} mb-3">
            <div class="card-body">
                {% if resource['type'] == 'tool' %}
                <a href="{{ url_for('tool.show_tool', tool_id=resource['id']) }}">
                    <h3 class="card-title text-center text-dark">{{ resource['name'] }}</h3>
                </a>
                {% elif resource['type'] == 'practice' %}
                <a href="{{ url_for('practice.show_practice', practice_id=resource['id']) }}">
                    <h3 class="card-title text-center text-dark">{{ resource['name'] }}</h3>
                </a>
                {% elif resource['type'] == 'book' %}
                <a href="{{ url_for('book.show_book', book_id=resource['id']) }}">
                    <h3 class="card-title text-center text-dark">{{ resource['name'] }}</h3>
                </a>
                {% endif %}
                <p class="card-text">
                    {{ resource['description']|truncate(100) }}
                </p>
                {% if current_user.is_authenticated %}
                  {% if resource['type'] == 'tool' %}
                  <a href="{{ url_for('tool.edit_tool', tool_id=resource['id']) }}">
                      <span class="badge bg-dark">Edit</span>
                  </a>
                  {% elif resource['type'] == 'practice' %}
                  <a href="{{ url_for('practice.edit_practice', practice_id=resource['id']) }}">
                      <span class="badge bg-dark">Edit</span>
                  </a>
                  {% elif resource['type'] == 'book' %}
                  <a href="{{ url_for('book.edit_book', book_id=resource['id']) }}">
                      <span class="badge bg-dark">Edit</span>
                  </a>
                  {% endif %}
                {% endif %}
            </div>
        </div>
        </div>
    {% endfor %}
    </div>
{% endblock %}
